def convert_to_sqlite(source_folder, target_folder):
    # Recreate the target folder structure
    if not os.path.exists(target_folder):
        os.makedirs(target_folder)

    for root, dirs, files in os.walk(source_folder):
        for file in files:
            source_file_path = os.path.join(root, file)
            relative_path = os.path.relpath(source_file_path, source_folder)
            target_file_path = os.path.join(target_folder, relative_path)

            # Create directories if they don't exist
            os.makedirs(os.path.dirname(target_file_path), exist_ok=True)

            # If file is not sqlite, convert and store
            if not file.endswith('.sqlite'):
                # Convert file to sqlite
                with open(source_file_path, 'r', encoding='utf-8') as f:  # Specify encoding here
                    data = f.read()

                # Store data in SQLite database
                conn = sqlite3.connect(target_file_path + '.sqlite')
                c = conn.cursor()
                c.execute('''CREATE TABLE IF NOT EXISTS data (content TEXT)''')
                c.execute('''INSERT INTO data VALUES (?)''', (data,))
                conn.commit()
                conn.close()

            else:
                # Just copy SQLite files to target folder
                shutil.copy2(source_file_path, target_file_path)
