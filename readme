from flask_restx import fields

class NullableList(fields.List):
    __schema_type__ = ['array', 'null']
    __schema_example__ = ['nullable list']

    def __init__(self, cls_or_instance, **kwargs):
        super(NullableList, self).__init__(cls_or_instance, **kwargs)

    def format(self, value):
        if value is None or isinstance(value, list):
            return value
        raise ValueError("Field must be a list or null.")
